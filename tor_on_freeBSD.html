<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Kostas Michailidis Tech - Tor freeBSD</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

	<style>
		table {
		  font-family: arial, sans-serif;
		  border-collapse: collapse;
		  width: 100%;
		}

		td, th {
		  border: 1px solid #dddddd;
		  text-align: left;
		  padding: 8px;
		}

		tr:nth-child(even) {
		  background-color: #dddddd;
		}
	</style>
</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Kostas Michailidis Tech</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="index.html">Home</a>
                    </li>
                    <li>
                        <a href="about.html">About</a>
                    </li>                
                    <li>
                        <a href="contact.html">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('img/torBG.png')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
                        <h1>Using the Tor network with freeBSD</h1>
                        <h2 class="subheading">An interesting way to access the tor network</h2>
                        <span class="meta">Posted by <a href="about.html">Kostas Michailidis</a> on August 20, 2024</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                      

                    <h2 class="section-heading">What is Tor?</h2>

                    <p>Tor (known as onion routing) is a decentralized network designed to provide anonymous communication over the internet. 
					It achieves this by routing data through a series of encrypted relays (nodes) operated by volunteers around the world. 
					Each relay decrypts one layer of encryption to reveal the next relay in the path, ensuring that no single node knows both the 
					source and destination of the data, a process known as onion routing.</p>
					
					<p>Tor is widely used for protecting privacy, circumventing censorship, and accessing both the surface web and the "dark web," where websites use .onion domains.</p>
					
					
                    <h2 class="section-heading">What is the Tor browser?</h2>
					<p>The Tor Browser is a web browser designed to protect users' privacy and anonymity online. 
					It's a modified version of Mozilla Firefox, pre-configured to connect to the Tor network.</p>
					
					<h2 class="section-heading">The Tor browser and freeBSD</h2>
					
					<p>The Tor Browser is not officially supported on FreeBSD. The official Tor Browser bundle is provided for 
					Windows, macOS, and Linux. However, FreeBSD users can still use Tor with some additional steps.</p>
					
					<p>You can install the tor package on FreeBSD using the package manager and configure another browser (like Firefox) to use the Tor network as a proxy. 
					This may not provide all the privacy features of the Tor Browser but it will route your traffic through the Tor network.</p>
					
					
                    <h2 class="section-heading">Firefox with Tor on freeBSD setup</h2>
					
					<p>First of all we need to update the FreeBSD repository catalogue:</p>
					<code>sudo pkg update</code>
                    <p>And then you can install FireFox:</p>
					<code>sudo pkg install firefox</code>
					<p>And now you can go and start firefox</p>
					
					<figure>
						<img class="img-responsive" src="img/freeBSDtor1.png" alt="">
                    </figure>
					
					<p>Now before we install and configure Tor we need to make our firefox a little more secure and privacy focused.</p>
					<p>First we go to the settings of firefox to the Privacy & Security section, and we change the Enhanced Tracking Protection settigs like below:</p>
					<figure>
						<img class="img-responsive" src="img/browser_privacy.png" alt="">
                    </figure>
					<p>In the same section go and change the password settings like this:</p>
					
					<figure>
						<img class="img-responsive" src="img/no_passwords.png" alt="">
                    </figure>
					
					<p>We also want to disable firefox from storing our web history:</p>
					
					<figure>
						<img class="img-responsive" src="img/no_history.png" alt="">
                    </figure>
					
					<p>Then disable any (most) data collection from mozilla:</p>
					
					
					<figure>
						<img class="img-responsive" src="img/if_you_paranoid.png" alt="">
                    </figure>
					
					<p>After that we need to disable the option to Block dangerous and deceptive content.</p>
					
					<p>The reason why to do that is the privacy concerns that mainly involve data sharing with Google, 
					which could include hashed URLs and IP addresses. It is good to disable it to avoid potential tracking 
					and data collection by large corporations.</p>
					
					<figure>
						<img class="img-responsive" src="img/dont_block_software.png" alt="">
                    </figure>
					
					<p>Now the final thing to do in this section is to enable HTTPS-only mode:</p>
					
					
					<figure>
						<img class="img-responsive" src="img/https-only.png" alt="">
                    </figure>
					
					<p>Now we should go to the general browsing settings (in the general section) and change them like this:</p>
				
				     
				
				    <figure>
						<img class="img-responsive" src="img/browsig_settings_general.png" alt="">
                    </figure>
					
					<p>We can now go to the Home section and change the firefox content menu:</p>
					
					<figure>
						<img class="img-responsive" src="img/firefox_content.png" alt="">
                    </figure>
					
					<p>In the Search section now we can disable the search suggestions:</p>
					
					
					<figure>
						<img class="img-responsive" src="img/suggest_search.png" alt="">
                    </figure>
					
					<p>And change the default search engine to duckduckgo (for surface web searching), (Note: you can also remove the other engines in the Search Shortcuts):</p>
					
					<figure>
						<img class="img-responsive" src="img/deafalt_search.png" alt="">
                    </figure>
					
					<p>And know we can go and add some extension , the first should be <a href="https://addons.mozilla.org/en-US/firefox/addon/ublock-origin/">uBlock Origin</a> a very 
					good content blocker (blocks Ad's,trackers etc), Another very important extension is <a href="https://addons.mozilla.org/en-US/firefox/addon/noscript/">NoScript</a>,  
					NoScript extension is a popular browser add-on for 
					Firefox and other browsers that enhances security by blocking 
					scripts and other potentially harmful content on websites. It allows users to control which scripts, such as JavaScript, 
					Java, and Flash, can run on their browser. </p> 
					
					<figure>
						<img class="img-responsive" src="img/extentions.png" alt="">
                    </figure>
					
					<p>Now we need to change some more "hidden" settings    
                     on firefox to make it even more secure, to do that we need to go to the URL bar and type "about:config", you will get the following message click Accept: </p>
					 
					<figure>
						<img class="img-responsive" src="img/ackss.png" alt="">
                    </figure>
					
					<p>Here you can change some settings from true to false with the toggle on the right or edit their values with the edit button, 
					first you need to go to the search bar (inside about:config) 
					and type the setting you want to change , for example lets disable javascript (very important to do):</p>
					
					<figure>
						<img class="img-responsive" src="img/disable_java.png" alt="">
                    </figure>
					
					<p>Here's a list of all the settings you need to change:</p>
					
					<pre><code>
dom.event.clipboardevents.enabled = false 
geo.enabled = false
media.eme.enabled = false
media.navigator.enabled = false 
media.peerconnection.enabled = false
network.dns.disablePrefetch = true 
network.http.sendRefererHeader = 0
network.prefetch-next = false 
privacy.firstparty.isolate = true 
privacy.resistFingerprinting = true   		# It spoofs your user agent
privacy.trackingprotection.enabled = true 
webgl.disabled = true
javascript.enabled = false                      # Disables javascript very important!
browser.cache.disk.enable = false               # Disables web cache on disk
browser.cache.memory.enable = false             # Disables web cache on memory
browser.translations.automaticallyPopup = false # Disables website translation pop up
browser.translations.enable = false             # Disables website translation
					</code></pre>
					
					
					<p>Now we can finally set up firefox to use tor, first we need to install tor:</p>
					<code>sudo pkg install security/tor</code>
					<p>After that we need to add the below line to <b>/etc/rc.conf</b> to start tor on boot:</p>
					<code>tor_enable="YES"</code>
					<p>And this line to <b>/etc/sysctl.conf</b> :</p>
					<code>net.inet.ip.random_id=1</code>
					<p>And now we need to execute the following commands:</p>
					<code> sudo service tor start <br><br> sudo sysctl net.inet.ip.random_id=1</code>
					
					<p>Now we should be able to use the tor service</p>
					 
					<p>Let's open firefox settings and go to the Network settings option in the general section.</p>
					
					<p>Then change your proxy settings like below:</p>
					
					<figure>
						<img class="img-responsive" src="img/firefox_torr.png" alt="">
                    </figure>
					
					<p>And you are done you can now access the tor network!</p>
					
					<p>Lets try it by visiting the onion url for proton mail:</p>
					
					<figure>
						<img class="img-responsive" src="img/protontorurl.png" alt="">
                    </figure>
					
					<p>Here you go!</p>
					
					<h2 class="section-heading">It's that all ?</h2>
					<p>For using firefox to access Tor on freeBSD yes for the most part, but there are many other 
					things you can do with Tor and freeBSD, such as running a node or your own hidden service, which we may talk about it in the future.</p>
					  
					
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">                      
                        <li>
                            <a href="https://github.com/mihkostas">
                                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
  					<path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
			    	</svg>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">&copy; Kostas Michailidis Tech 2023</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>
